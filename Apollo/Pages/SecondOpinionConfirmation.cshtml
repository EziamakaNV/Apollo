@page
@model Apollo.Pages.SecondOpinionConfirmationModel
@{
    ViewData["Title"] = "Confirm Second Opinion";
}

<h2>@ViewData["Title"]</h2>

<p>You're about to request a second opinion from @Model.Doctor.Name for a price of $@Model.Doctor.Price.</p>

<form id="opinionForm" method="post" onsubmit="showLoader()">
    <input type="hidden" name="consultationHistoryId" value="@Model.ConsultationHistoryId" />
    <input type="hidden" name="doctorId" value="@Model.DoctorId" />

    <button type="submit" class="btn btn-success">Confirm and Pay</button>
    <a asp-page="/ConsultationHistory" class="btn btn-secondary">Cancel</a>
</form>

<div id="spinner" class="spinner-border text-primary" role="status" style="display: none;">
    <span class="visually-hidden">Processing...</span>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        function showLoader() {
            document.getElementById('opinionForm').style.display = 'none';
            document.getElementById('spinner').style.display = 'block';
        }
    </script>
}